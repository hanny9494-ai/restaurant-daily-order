<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ice Cream Business Calculator</title>
    <style>
      :root {
        --bg1: #fff4e6;
        --bg2: #ffe8cc;
        --card: #ffffff;
        --text: #2d1e16;
        --muted: #7b665c;
        --accent: #e8590c;
        --accent-2: #f08c00;
        --ok: #2f9e44;
        --warn: #c92a2a;
      }

      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        font-family: "Avenir Next", "Segoe UI", sans-serif;
        color: var(--text);
        background: radial-gradient(circle at top right, var(--bg2), var(--bg1));
        min-height: 100vh;
      }

      .container {
        max-width: 980px;
        margin: 2rem auto;
        padding: 1rem;
      }

      h1 {
        margin: 0 0 0.4rem;
        font-size: 2rem;
      }

      .subtitle {
        margin: 0 0 1.5rem;
        color: var(--muted);
      }

      .grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(270px, 1fr));
        gap: 1rem;
      }

      .card {
        background: var(--card);
        border-radius: 16px;
        padding: 1rem;
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.08);
      }

      .card h2 {
        margin-top: 0;
        font-size: 1.1rem;
      }

      label {
        display: block;
        margin-top: 0.75rem;
        font-size: 0.92rem;
      }

      input {
        width: 100%;
        padding: 0.6rem 0.7rem;
        margin-top: 0.35rem;
        border: 1px solid #e9d8c7;
        border-radius: 10px;
        font-size: 0.95rem;
      }

      .results {
        display: grid;
        gap: 0.55rem;
        margin-top: 0.4rem;
      }

      .metric {
        display: flex;
        justify-content: space-between;
        align-items: baseline;
        border-bottom: 1px dashed #f1dfcc;
        padding-bottom: 0.45rem;
      }

      .metric strong {
        font-size: 1.04rem;
      }

      .metric small {
        color: var(--muted);
      }

      .good {
        color: var(--ok);
      }

      .bad {
        color: var(--warn);
      }

      .pill {
        display: inline-block;
        margin-top: 0.8rem;
        padding: 0.35rem 0.6rem;
        border-radius: 999px;
        background: linear-gradient(90deg, var(--accent), var(--accent-2));
        color: #fff;
        font-size: 0.84rem;
      }

      .hint {
        font-size: 0.85rem;
        color: var(--muted);
        margin-top: 0.7rem;
      }
    </style>
  </head>
  <body>
    <main class="container">
      <h1>Ice Cream Business Calculator</h1>
      <p class="subtitle">
        Estimate your profit per scoop, daily profit, monthly profit, and break-even point.
      </p>

      <section class="grid">
        <article class="card">
          <h2>Inputs</h2>

          <label>
            Selling price per scoop ($)
            <input id="price" type="number" min="0" step="0.01" value="4.50" />
          </label>

          <label>
            Ingredient + cup/cone cost per scoop ($)
            <input id="costPerScoop" type="number" min="0" step="0.01" value="1.25" />
          </label>

          <label>
            Scoops sold per day
            <input id="scoopsPerDay" type="number" min="0" step="1" value="120" />
          </label>

          <label>
            Fixed monthly costs ($)
            <input id="fixedMonthly" type="number" min="0" step="0.01" value="2800" />
          </label>

          <label>
            Open days per month
            <input id="openDays" type="number" min="1" max="31" step="1" value="26" />
          </label>

          <p class="hint">Tip: Include rent, payroll, utilities, and subscriptions in fixed costs.</p>
        </article>

        <article class="card">
          <h2>Results</h2>
          <div class="results">
            <div class="metric">
              <small>Gross margin per scoop</small>
              <strong id="marginPerScoop">$0.00</strong>
            </div>
            <div class="metric">
              <small>Gross margin %</small>
              <strong id="marginPct">0.0%</strong>
            </div>
            <div class="metric">
              <small>Estimated daily profit (before fixed costs)</small>
              <strong id="dailyProfit">$0.00</strong>
            </div>
            <div class="metric">
              <small>Estimated monthly gross profit</small>
              <strong id="monthlyGross">$0.00</strong>
            </div>
            <div class="metric">
              <small>Estimated monthly net profit</small>
              <strong id="monthlyNet">$0.00</strong>
            </div>
            <div class="metric">
              <small>Break-even scoops per month</small>
              <strong id="breakEvenScoops">0</strong>
            </div>
            <div class="metric">
              <small>Break-even scoops per day</small>
              <strong id="breakEvenPerDay">0</strong>
            </div>
          </div>
          <span id="status" class="pill">Healthy unit margin</span>
        </article>
      </section>
    </main>

    <script>
      const ids = ["price", "costPerScoop", "scoopsPerDay", "fixedMonthly", "openDays"];
      const elements = Object.fromEntries(ids.map((id) => [id, document.getElementById(id)]));

      const out = {
        marginPerScoop: document.getElementById("marginPerScoop"),
        marginPct: document.getElementById("marginPct"),
        dailyProfit: document.getElementById("dailyProfit"),
        monthlyGross: document.getElementById("monthlyGross"),
        monthlyNet: document.getElementById("monthlyNet"),
        breakEvenScoops: document.getElementById("breakEvenScoops"),
        breakEvenPerDay: document.getElementById("breakEvenPerDay"),
        status: document.getElementById("status")
      };

      const money = (n) => `$${Number.isFinite(n) ? n.toFixed(2) : "0.00"}`;
      const number = (n) => (Number.isFinite(n) ? n.toLocaleString() : "0");

      function readNumber(el, fallback = 0) {
        const n = parseFloat(el.value);
        return Number.isFinite(n) ? n : fallback;
      }

      function calculate() {
        const price = readNumber(elements.price);
        const costPerScoop = readNumber(elements.costPerScoop);
        const scoopsPerDay = readNumber(elements.scoopsPerDay);
        const fixedMonthly = readNumber(elements.fixedMonthly);
        const openDays = Math.max(1, readNumber(elements.openDays, 1));

        const marginPerScoop = price - costPerScoop;
        const marginPct = price > 0 ? (marginPerScoop / price) * 100 : 0;
        const dailyProfit = marginPerScoop * scoopsPerDay;
        const monthlyGross = dailyProfit * openDays;
        const monthlyNet = monthlyGross - fixedMonthly;

        const breakEvenScoops = marginPerScoop > 0 ? fixedMonthly / marginPerScoop : Infinity;
        const breakEvenPerDay = breakEvenScoops / openDays;

        out.marginPerScoop.textContent = money(marginPerScoop);
        out.marginPct.textContent = `${marginPct.toFixed(1)}%`;
        out.dailyProfit.textContent = money(dailyProfit);
        out.monthlyGross.textContent = money(monthlyGross);
        out.monthlyNet.textContent = money(monthlyNet);
        out.breakEvenScoops.textContent = Number.isFinite(breakEvenScoops)
          ? number(Math.ceil(breakEvenScoops))
          : "N/A";
        out.breakEvenPerDay.textContent = Number.isFinite(breakEvenPerDay)
          ? number(Math.ceil(breakEvenPerDay))
          : "N/A";

        out.monthlyNet.className = monthlyNet >= 0 ? "good" : "bad";

        if (marginPerScoop <= 0) {
          out.status.textContent = "Selling below unit cost";
          out.status.style.background = "#c92a2a";
        } else if (marginPct < 40) {
          out.status.textContent = "Margin may be too thin";
          out.status.style.background = "#f08c00";
        } else {
          out.status.textContent = "Healthy unit margin";
          out.status.style.background = "linear-gradient(90deg, #2f9e44, #37b24d)";
        }
      }

      ids.forEach((id) => elements[id].addEventListener("input", calculate));
      calculate();
    </script>
  </body>
</html>
